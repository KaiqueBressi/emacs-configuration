package br.com.creditas.carteiritas.domain

import javax.persistence.CascadeType
import javax.persistence.Entity
import javax.persistence.EmbeddedId
import javax.persistence.OneToMany
import javax.persistence.JoinColumn
import javax.persistence.JoinColumns

@Entity
class Customer(
    @EmbeddedId val customerId: CustomerId,

    @OneToMany(cascade = [CascadeType.ALL], orphanRemoval = true)
    @JoinColumns( {
        @JoinColumn(name="vendorCode", referencedColumnName="vendorCode"),
        @JoinColumn(name="vendorBranchCode", referencedColumnName="vendorBranchCode")
    } )
    val assignments: List<Assignment>
) {
    var hidden: Boolean = false
}
